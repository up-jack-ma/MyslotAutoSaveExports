# MyslotAutoSave

一个独立的魔兽世界插件，用于自动保存角色的按键绑定、宏和动作条配置。该插件与原版 Myslot 完全兼容，可以将配置导出为 Myslot 可识别的格式。

## 功能特性

- **自动保存**: 角色登录时自动保存当前配置
- **智能命名**: 使用"角色名-专精-服务器"格式命名配置文件
- **防重复**: 自动检测已存在的配置，避免重复保存
- **Myslot 兼容**: 导出的配置可以直接被原版 Myslot 插件识别和导入
- **独立运行**: 作为独立插件运行，不会因 Myslot 更新而丢失功能
- **详细日志**: 提供详细的调试信息，便于问题排查

## 安装方法

1. 下载插件文件
2. 将 `MyslotAutoSave` 文件夹复制到魔兽世界插件目录：
   ```
   World of Warcraft/_retail_/Interface/AddOns/
   ```
3. 重启游戏客户端

## 使用说明

### 自动保存
- 插件会在角色登录后 3 秒自动执行保存
- 保存的配置会存储在全局变量 `MyslotAutoSaveExports` 中
- 同时也会尝试复制到原版 Myslot 的 `MyslotExports` 中

### 配置命名规则
配置文件会自动按照以下格式命名：
```
角色名-专精-服务器名
```
例如：`木头仁-平衡-暮色森林`

### 查看保存的配置
插件会在聊天窗口显示保存状态和详细信息：
- 配置名称
- 文件大小
- 当前配置总数
- 是否成功复制到原版 Myslot

## 技术特性

### 数据结构
插件使用以下数据结构存储配置：
```lua
MyslotAutoSaveExports = {
    ["exports"] = {
        {
            name = "配置名称",
            text = "导出的配置文本",
            characterName = "角色名",
            specName = "专精名",
            realmName = "服务器名",
            timestamp = "时间戳"
        }
    },
    ["backups"] = {}
}
```

### 事件处理
- `ADDON_LOADED`: 插件加载时初始化
- `PLAYER_ENTERING_WORLD`: 角色进入世界时触发自动保存

### 延迟执行
为了确保所有游戏数据都已正确加载，插件使用 3 秒延迟执行自动保存。

## 兼容性

- **魔兽世界版本**: 支持正式服 (Retail)
- **Myslot 版本**: 与所有版本的 Myslot 插件兼容
- **依赖关系**: 无需任何额外依赖

## 文件说明

- `MyslotAutoSave.toc`: 插件配置文件
- `MyslotAutoSave.lua`: 主要功能实现
- `README.md`: 说明文档

## 开发信息

- **版本**: 1.0.0
- **作者**: Auto Generated
- **许可证**: 开源项目

## 故障排除

### 常见问题

1. **插件无法加载**
   - 确保插件文件位于正确的目录
   - 检查插件是否在游戏内启用

2. **自动保存不执行**
   - 等待角色完全加载（约 3-5 秒）
   - 检查聊天窗口是否有错误信息

3. **配置未保存**
   - 确保角色信息正确获取
   - 检查是否已存在同名配置

### 调试信息
插件会在聊天窗口输出详细的调试信息，包括：
- 插件加载状态
- 角色信息获取结果
- 配置导出状态
- 保存操作结果

## 更新日志

### v1.0.0
- 初始版本发布
- 实现自动保存功能
- 添加 Myslot 兼容性
- 支持智能命名和防重复机制

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个插件。

## 许可证

本项目采用开源许可证，详情请查看项目仓库。

---

**注意**: 这是一个独立插件，不会影响原版 Myslot 的功能。建议同时安装两个插件以获得最佳体验。
